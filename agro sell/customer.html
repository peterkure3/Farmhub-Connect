<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.0.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="cusstyles.css" />
    <title>Welcome To FarmHub-Connect</title>
  </head>
  <body>
    <header class="header">
      <nav>
        <div class="nav__bar">
          <div class="logo">
            <a href="#"><img src="assets/logo2.png" alt="logo" /></a>
          </div>
          <div class="nav__menu__btn" id="menu-btn">
            <i class="ri-menu-line"></i>
          </div>
        </div>
        
        
     
        <a href="./landing_page.html"><button class="btn nav__btn">LOG OUT</button></a>
      


      </nav>
      
        
      </div>
      
   
    </header>

    <section class="section__container booking__container">
      <form action="./user_dashboard_page.html" class="booking__form">
        <div class="input__group">
          <span><i class="ri-calendar-2-fill"></i></span>
          <div>
            <a href="./login.html"><label for="check-in">Farmers</label></a>
            <input type="text" placeholder="For Farmers" />
          </div>
        </div>
        <div class="input__group">
          <span><i class="ri-calendar-2-fill"></i></span>
          <div>
            <a href="./login.html"><label for="check-in">Customers</label></a>
            <input type="text" placeholder="For Customers" />
          </div>
        </div>
        <div class="input__group">
          <span><i class="ri-user-fill"></i></span>
          <div>
            <label for="guest">FARMERS</label>
            <input type="text" placeholder="Guest" />
          </div>
        </div>
        <div class="input__group input__btn">
          <a href="./login.html"button class="btn">Login</button></a>
        </div>
      </form>
    </section>



    <section class="section__container room__container">
      <p class="section__subheader">OUR FARMERS</p>
      <h2 class="section__header">PRODUCTS ON OFFER </h2>
      <div class="room__grid products-container">
        <!-- Products will be rendered here -->
      </div>
      
       
    </div>

        
    </section>
    <section class="section__container about__container" id="about">
      <div class="about__image">
        <img src="assets/about.jpg" alt="about" />
      </div>
      <div class="about__content">
        <p class="section__subheader">ABOUT US</p>
        <h2 class="section__header">Experience What Uganda's Best Farmers Have To Offer</h2>
        <p class="section__description">
          üå± Welcome to FarmHub Connect üöú

            We're the heartbeat of agriculture, connecting farmers with markets and opportunities. üåç Our mission? Empowering farmers, one click at a time! üí™

            Join us in revolutionizing the way farmers grow, sell, and thrive! üåü Let's sow the seeds of success together! üåøüåü
        </p>
        <div class="about__btn">
          <button class="btn">Read More</button>
        </div>
      </div>
    </section>

    <section class="service" id="service">
      <div class="section__container service__container">
        <div class="service__content">
          <p class="section__subheader">SERVICES</p>
          <h2 class="section__header">Strive Only For The Best.</h2>
          <ul class="service__list">
            <li>
              <span><i class="ri-shield-star-line"></i></span>
              Creating Market
            </li>
            <li>
              <span><i class="ri-24-hours-line"></i></span>
              Hosting Platform
            </li>
            <li>
              <span><i class="ri-headphone-line"></i></span>
              Facilitating Buy and Sale.
            </li>
            <li>
              <span><i class="ri-map-2-line"></i></span>
              Creating Connections Between the Farmers and You.
            </li>
          </ul>
        </div>
      </div>
    </section>

    <section class="section__container banner__container">
      <div class="banner__content">
        <div class="banner__card">
          <h4>0+</h4>
          <p>Farmers Available</p>
        </div>
        <div class="banner__card">
          <h4>0+</h4>
          <p>Deals Made</p>
        </div>
        <div class="banner__card">
          <h4>0+</h4>
          <p>Happy Customers</p>
        </div>
      </div>
    </section>

    <section class="explore" id="explore">
      <p class="section__subheader">EXPLORE</p>
      <h2 class="section__header">What's New Today.</h2>
      <div class="explore__bg">
        <div class="explore__content">
          <p class="section__description">26th FEB 2024</p>
          <h4>A New Farmer Available On Our Platform.</h4>
          <button class="btn">Continue</button>
        </div>
      </div>
    </section>

    <footer class="footer" id="contact">
      <div class="section__container footer__container">
        <div class="footer__col">
          <div class="logo">
            <a href="#home"><img src="assets/logo2.png" alt="logo" /></a>
          </div>
          <p class="section__description">
            Discover a world of Different products on offer that you'd never Experienced before.
          </p>
          <a href="./login.html"button class="btn">Sign Up</button></a>
        </div>
        <div class="footer__col">
          <h4>KNOW MORE</h4>
          <ul class="footer__links">
            <li><a href="#">Browse Products</a></li>
            <li><a href="#">Special Offers & Packages</a></li>
            <li><a href="#">Farming Tips</a></li>
            <li><a href="#">Customer Reviews & Ratings</a></li>
            <li><a href="#">Tips From Farmers</a></li>
          </ul>
        </div>
        <div class="footer__col">
          <h4>OUR SERVICES</h4>
          <ul class="footer__links">
            <li><a href="#">Interact With Farmers</a></li>
            <li><a href="#">Browse the Latest Products</a></li>
            <li><a href="#">Transaction</a></li>
            <li><a href="#">Build Connections</a></li>
          </ul>
        </div>

       
          <h4>CONTACT US</h4>
         
          <div class="footer__socials">
            <a href="https://www.facebook.com/?sk=welcome"><img src="assets/facebook.png" alt="facebook" /></a>
            <a href="https://www.instagram.com/invites/contact/?i=18714wcr47hrk&utm_content=tw0sfhg"><img src="assets/instagram.png" alt="instagram" /></a>
            <a href="https://twitter.com/FarmHubConnect"><img src="assets/twitter.png" alt="twitter" /></a>
          </div>
        </div>
      </div>
     
    </footer>
    <!-- <script defer src="https://app.fastbots.ai/embed.js" data-bot-id="clsyk0kxi010bs9b3age7yrid"></script> -->
    <script>
      window.onload = function() {
          fetchProducts();
      };
  
      function fetchProducts() {
          fetch('http://localhost:3000/api/products') 
              .then(response => response.json())
              .then(products => {
                  console.log('Products:', products); 
                  renderProducts(products);
              })
              .catch(error => {
                  console.error('Error fetching products:', error); 
              });
      }
  
      document.getElementById('searchInput').addEventListener('input', searchProducts);
  
      function searchProducts() {
          const searchText = document.getElementById('searchInput').value;
          if (searchText.trim() !== '') {
              fetch(`http://localhost:3000/api/products/filter/${encodeURIComponent(searchText)}`)
                  .then(response => response.json())
                  .then(products => {
                      renderProducts(products);
                  })
                  .catch(error => {
                      console.error('Error fetching filtered products:', error);
                  });
          } else {
              fetchProducts(); 
          }
      }
      
  
      function renderProducts(products) {
          const container = document.querySelector('.products-container');
          container.innerHTML = ''; 
  
          products.forEach(product => {
              const productDiv = document.createElement('div');
              productDiv.className = 'room__card';
              const formattedPrice = formatPrice(product.price);
  
              productDiv.innerHTML = `
                  <div class="room__card__image">
                      <img src="${product.imageurl}" alt="${product.name}">
                      <div class="room__card__icons">
                          <span><i class="ri-heart-fill"></i></span>
                          <span><i class="ri-paint-fill"></i></span>
                          <span><i class="ri-shield-star-line"></i></span>
                      </div>
                  </div>
                  <div class="room__card__details">
                      <h4>${product.name}</h4>
                      <h3>Available</h3>
                      <h5>Price:<span>${product.price}</span></h5>
                      <h5>Contact:<span>${product.contact}</span></h5>
                      <h5>Location:<span>${product.location}</span></h5>
                      
                  </div>
              `;
  
              container.appendChild(productDiv);
          });
  
          // Increment the numbers whenever a user signs up
          const farmersAvailable = document.querySelector('.banner__card:nth-child(1) h4');
          const dealsMade = document.querySelector('.banner__card:nth-child(2) h4');
          const happyCustomers = document.querySelector('.banner__card:nth-child(3) h4');
  
          
          const updatedFarmersCount = 10; 
          const updatedDealsCount = 5;
          const updatedCustomersCount = 5;
  
          farmersAvailable.textContent = updatedFarmersCount;
          dealsMade.textContent = updatedDealsCount;
          happyCustomers.textContent = updatedCustomersCount;
        function formatPrice(price) {
    // Add "shs." at the beginning of the price
          let formattedPrice = "shs. " + price;

    // Add commas to the price for better readability
          formattedPrice = formattedPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");

           return formattedPrice;
          }
      }
  </script>
  
  

    <script src="https://unpkg.com/scrollreveal"></script>

    <script src="cusmain.js"></script>
  </body>
</html>
